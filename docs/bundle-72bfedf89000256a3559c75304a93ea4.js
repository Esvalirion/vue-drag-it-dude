!function(e){"use strict";function t(){const e=document.head||document.getElementsByTagName("head")[0],n=t.styles||(t.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(t,s){if(!document.querySelector('style[data-vue-ssr-id~="'+t+'"]')){const o=i?s.media||"default":t,d=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!d.ids.includes(t)){let n=s.source,h=d.ids.length;if(d.ids.push(t),i&&(d.element=d.element||document.querySelector("style[data-group="+o+"]")),!d.element){const t=d.element=document.createElement("style");t.type="text/css",s.media&&t.setAttribute("media",s.media),i&&(t.setAttribute("data-group",o),t.setAttribute("data-next-index","0")),e.appendChild(t)}if(i&&(h=parseInt(d.element.getAttribute("data-next-index")),d.element.setAttribute("data-next-index",h+1)),d.element.styleSheet)d.parts.push(n),d.element.styleSheet.cssText=d.parts.filter(Boolean).join("\n");else{const e=document.createTextNode(n),t=d.element.childNodes;t[h]&&d.element.removeChild(t[h]),t.length?d.element.insertBefore(e,t[h]):d.element.appendChild(e)}}}}}function n(){const e=document.head||document.getElementsByTagName("head")[0],t=n.styles||(n.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(n,s){if(!document.querySelector('style[data-vue-ssr-id~="'+n+'"]')){const o=i?s.media||"default":n,d=t[o]||(t[o]={ids:[],parts:[],element:void 0});if(!d.ids.includes(n)){let t=s.source,h=d.ids.length;if(d.ids.push(n),i&&(d.element=d.element||document.querySelector("style[data-group="+o+"]")),!d.element){const t=d.element=document.createElement("style");t.type="text/css",s.media&&t.setAttribute("media",s.media),i&&(t.setAttribute("data-group",o),t.setAttribute("data-next-index","0")),e.appendChild(t)}if(i&&(h=parseInt(d.element.getAttribute("data-next-index")),d.element.setAttribute("data-next-index",h+1)),d.element.styleSheet)d.parts.push(t),d.element.styleSheet.cssText=d.parts.filter(Boolean).join("\n");else{const e=document.createTextNode(t),n=d.element.childNodes;n[h]&&d.element.removeChild(n[h]),n.length?d.element.insertBefore(e,n[h]):d.element.appendChild(e)}}}}}e=e&&e.hasOwnProperty("default")?e.default:e;const i={name:"drag-it-dude",props:{width:{type:Number,default:0},height:{type:Number,default:0},parentWidth:{type:Number,default:0},parentHeight:{type:Number,default:0}},watch:{width(e,t){if(!(e<t)&&0!==this.left&&(this.parent.width=this.parentWidth||this.elem.parentNode.offsetWidth,this.parent.height=this.parentHeight||this.elem.parentNode.offsetHeight,e>this.parent.width-this.left)){const t=this.parent.width-e;this.left=t<0?0:t,this.elem.style.left=`${this.left}px`}},height(e,t){if(!(e<t)&&0!==this.top&&(this.parent.width=this.parentWidth||this.elem.parentNode.offsetWidth,this.parent.height=this.parentHeight||this.elem.parentNode.offsetHeight,e>this.parent.height-this.top)){const e=this.parent.height-this.height;this.top=e,this.elem.style.top=`${this.top}px`}}},data:()=>({shiftY:null,shiftX:null,left:0,top:0,elem:null,isIos:!1,parent:{width:0,height:0}}),methods:{iosMove(e){this.isIos&&this.elementMove(e)},elementMove(e){this.$emit("dragging"),e.preventDefault(),e.pageX||(document.body.style.overflow="hidden");const t=e.pageX||e.changedTouches[0].pageX,n=e.pageY||e.changedTouches[0].pageY;let i=t-this.shiftX,s=n-this.shiftY;const o=t-this.shiftX+this.elem.offsetWidth,d=n-this.shiftY+this.elem.offsetHeight;i=i<0?0:o>this.parent.width?this.parent.width-this.elem.offsetWidth:t-this.shiftX,s=s<0?0:d>this.parent.height?this.parent.height-this.elem.offsetHeight:n-this.shiftY,this.elem.style.left=`${i}px`,this.left=i,this.elem.style.top=`${s}px`,this.top=s},hang(e){this.$emit("activated"),this.parent.width=this.parentWidth||this.elem.parentNode.offsetWidth,this.parent.height=this.parentHeight||this.elem.parentNode.offsetHeight,this.shiftX=e.pageX?e.pageX-this.elem.offsetLeft:e.changedTouches[0].pageX-this.elem.offsetLeft,this.shiftY=e.pageY?e.pageY-this.elem.offsetTop:e.changedTouches[0].pageY-this.elem.offsetTop,e.pageX?this.isIos?this.elem.addEventListener("touchmove",this.elementMove):(this.elem.parentElement.addEventListener("mousemove",this.elementMove),this.elem.parentElement.addEventListener("mouseleave",this.drop)):this.elem.addEventListener("touchmove",this.elementMove)},drop(){this.$emit("dropped"),document.body.style.overflow=null,this.elem.parentElement.removeEventListener("mousemove",this.elementMove,!1),this.elem.removeEventListener("touchmove",this.elementMove,!1),this.elem.parentElement.onmouseup=null,this.elem.ontouchend=null}},mounted(){this.isIos=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.elem=this.$el}};var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"drag-it-dude",on:{touchstart:function(t){return t.stopPropagation(),e.hang(t)},touchend:function(t){return t.stopPropagation(),e.drop(t)},mousedown:function(t){return t.stopPropagation(),e.hang(t)},mouseup:function(t){return t.stopPropagation(),e.drop(t)},touchmove:function(t){return t.stopPropagation(),e.iosMove(t)}}},[e._t("default")],2)},o=[];s._withStripped=!0;const d={name:"App",components:{DragItDude:function(e,t,n,i,s,o,d,h){const a=("function"==typeof n?n.options:n)||{};a.__file="/Users/abaldwin/Dev/vue-drag-it-dude/src/DragItDude.vue",a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,s&&(a.functional=!0)),a._scopeId=i;{let e;if(t&&(e=function(e){t.call(this,d(e))}),void 0!==e)if(a.functional){const t=a.render;a.render=function(n,i){return e.call(i),t(n,i)}}else{const t=a.beforeCreate;a.beforeCreate=t?[].concat(t,e):[e]}}return a}({render:s,staticRenderFns:o},function(e){e&&e("data-v-6dcce552_0",{source:"\n.drag-it-dude {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n}\n",map:{version:3,sources:["/Users/abaldwin/Dev/vue-drag-it-dude/src/DragItDude.vue"],names:[],mappings:";AAmJA;EACA,mBAAA;EACA,OAAA;EACA,QAAA;EACA,WAAA;CACA",file:"DragItDude.vue",sourcesContent:["<template>\n  <div\n    class=\"drag-it-dude\"\n    @touchstart.stop=\"hang\"\n    @touchend.stop=\"drop\"\n    @mousedown.stop=\"hang\"\n    @mouseup.stop=\"drop\"\n    @touchmove.stop=\"iosMove\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'drag-it-dude',\n    props: {\n      width: {\n        type: Number,\n        default: 0,\n      },\n      height: {\n        type: Number,\n        default: 0,\n      },\n      parentWidth: {\n        type: Number,\n        default: 0,\n      },\n      parentHeight: {\n        type: Number,\n        default: 0,\n      },\n    },\n    watch: {\n      width(newWidth, oldWidth) {\n        if (newWidth < oldWidth) return;\n        if (this.left === 0) return;\n\n        this.parent.width = this.parentWidth || this.elem.parentNode.offsetWidth;\n        this.parent.height = this.parentHeight || this.elem.parentNode.offsetHeight;\n\n        if (newWidth > this.parent.width - this.left) {\n          const newLeft = this.parent.width - newWidth;\n          this.left = newLeft < 0 ? 0 : newLeft;\n          this.elem.style.left = `${this.left}px`;\n        }\n      },\n      height(newHeight, oldHeight) {\n        if (newHeight < oldHeight) return;\n        if (this.top === 0) return;\n\n        this.parent.width = this.parentWidth || this.elem.parentNode.offsetWidth;\n        this.parent.height = this.parentHeight || this.elem.parentNode.offsetHeight;\n        \n        if (newHeight > this.parent.height - this.top) {\n          const newTop = this.parent.height - this.height;\n          this.top = newTop;\n          this.elem.style.top = `${this.top}px`;\n        }\n      },\n    },\n    data: () => ({\n      shiftY: null,\n      shiftX: null,\n      left: 0,\n      top: 0,\n      elem: null,\n      isIos: false,\n      parent: {\n        width: 0,\n        height: 0,\n      },\n    }),\n    methods: {\n      iosMove(e) {\n        if (this.isIos) this.elementMove(e);\n      },\n      elementMove(e) {\n        this.$emit('dragging');\n        e.preventDefault();\n        if (!e.pageX) {\n          document.body.style.overflow = 'hidden';\n        }\n        const x = e.pageX || e.changedTouches[0].pageX;\n        const y = e.pageY || e.changedTouches[0].pageY;\n        let newLeft = x - this.shiftX;\n        let newTop = y - this.shiftY;\n        const newRight = x - this.shiftX + this.elem.offsetWidth;\n        const newBottom = y - this.shiftY + this.elem.offsetHeight;\n        if (newLeft < 0) {\n          newLeft = 0;\n        } else if (newRight > this.parent.width) {\n          newLeft =  this.parent.width - this.elem.offsetWidth;\n        } else {\n          newLeft = x - this.shiftX;\n        }\n        if (newTop < 0) {\n          newTop = 0;\n        } else if (newBottom > this.parent.height) {\n          newTop = this.parent.height - this.elem.offsetHeight;\n        } else {\n          newTop = y - this.shiftY;\n        }\n        this.elem.style.left = `${newLeft}px`;\n        this.left = newLeft;\n        this.elem.style.top = `${newTop}px`;\n        this.top = newTop;\n      },\n      hang(e) {\n        this.$emit('activated');\n        this.parent.width = this.parentWidth || this.elem.parentNode.offsetWidth;\n        this.parent.height = this.parentHeight || this.elem.parentNode.offsetHeight;\n        this.shiftX = e.pageX\n          ? e.pageX - this.elem.offsetLeft\n          : e.changedTouches[0].pageX - this.elem.offsetLeft;\n        this.shiftY = e.pageY\n          ? e.pageY - this.elem.offsetTop\n          : e.changedTouches[0].pageY - this.elem.offsetTop;\n        if (e.pageX) {\n          if (this.isIos) {\n            this.elem.addEventListener('touchmove', this.elementMove);\n          } else {\n            this.elem.parentElement.addEventListener('mousemove', this.elementMove);\n            this.elem.parentElement.addEventListener('mouseleave', this.drop);\n          }\n        } else {\n          this.elem.addEventListener('touchmove', this.elementMove);\n        }\n      },\n      drop() {\n        this.$emit('dropped');\n        document.body.style.overflow = null;\n        this.elem.parentElement.removeEventListener('mousemove', this.elementMove, false);\n        this.elem.removeEventListener('touchmove', this.elementMove, false);\n        this.elem.parentElement.onmouseup = null;\n        this.elem.ontouchend = null;\n      },\n    },\n    mounted() {\n      this.isIos = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n      this.elem = this.$el;\n    },\n  };\n<\/script>\n\n<style>\n.drag-it-dude {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n}\n</style>\n"]},media:void 0})},i,void 0,!1,void 0,t,void 0)},data(){return{inputItems:[{text:"Just move me!",isActive:!1,id:0}]}},methods:{onActivated(e){this.inputItems[e].text="I am ready for great things!"},onDragging(e){this.inputItems[e].text="Weeee!"},onDropped(e){this.inputItems[e].text="That's place is awesome!",setTimeout(()=>{this.inputItems[e].text="Just move me!"},3e3)}}};var h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("vue-drag-it-dude")]),e._v(" "),n("div",{staticClass:"wrapper"},e._l(e.inputItems,function(t,i){return n("drag-it-dude",{key:t.id,on:{activated:function(n){e.onActivated(t.id)},dragging:function(n){e.onDragging(t.id)},dropped:function(n){e.onDropped(t.id)}}},[n("div",{staticClass:"div"},[n("input",{attrs:{type:"text"},domProps:{value:t.text}})])])}))])},a=[];h._withStripped=!0;var r=function(e,t,n,i,s,o,d,h){const a=("function"==typeof n?n.options:n)||{};a.__file="/Users/abaldwin/Dev/vue-drag-it-dude/docs-src/App.vue",a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,s&&(a.functional=!0)),a._scopeId=i;{let e;if(t&&(e=function(e){t.call(this,d(e))}),void 0!==e)if(a.functional){const t=a.render;a.render=function(n,i){return e.call(i),t(n,i)}}else{const t=a.beforeCreate;a.beforeCreate=t?[].concat(t,e):[e]}}return a}({render:h,staticRenderFns:a},function(e){e&&e("data-v-651a5a48_0",{source:"\n#app {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  font-family: sans-serif;\n  align-items: center;\n}\n.wrapper {\n  width: 350px;\n  height: 350px;\n  border: 1px solid #000;\n  border-radius: 10px;\n  position: relative;\n}\nh1 {\n  text-align: center;\n}\n.div {\n  display: inline-block;\n}\ninput {\n  width: 200px;\n  padding: 20px 30px;\n  border-radius: 10px;\n  border: 1px solid #ccc;\n  font-size: 16px;\n  text-align: center;\n}\n",map:{version:3,sources:["/Users/abaldwin/Dev/vue-drag-it-dude/docs-src/App.vue"],names:[],mappings:";AAsDA;EACA,cAAA;EACA,uBAAA;EACA,YAAA;EACA,aAAA;EACA,wBAAA;EACA,oBAAA;CACA;AAEA;EACA,aAAA;EACA,cAAA;EACA,uBAAA;EACA,oBAAA;EACA,mBAAA;CACA;AAEA;EACA,mBAAA;CACA;AAEA;EACA,sBAAA;CACA;AAEA;EACA,aAAA;EACA,mBAAA;EACA,oBAAA;EACA,uBAAA;EACA,gBAAA;EACA,mBAAA;CACA",file:"App.vue",sourcesContent:['<template>\n  <div id="app">\n    <h1>vue-drag-it-dude</h1>\n    <div class="wrapper">\n      <drag-it-dude\n        v-for="item, key in inputItems"\n        :key="item.id"\n        @activated="onActivated(item.id)"\n        @dragging="onDragging(item.id)"\n        @dropped="onDropped(item.id)"\n      >\n        <div class="div"><input type="text" :value="item.text"></div>\n      </drag-it-dude>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DragItDude from "../src/DragItDude.vue";\n\nexport default {\n  name: "App",\n  components: {\n    DragItDude\n  },\n  data() {\n    return {\n      inputItems: [\n        {\n          text: "Just move me!",\n          isActive: false,\n          id: 0\n        }\n      ]\n    };\n  },\n  methods: {\n    onActivated(key) {\n      this.inputItems[key].text = "I am ready for great things!";\n    },\n    onDragging(key) {\n      this.inputItems[key].text = "Weeee!";\n    },\n    onDropped(key) {\n      this.inputItems[key].text = "That\'s place is awesome!";\n      setTimeout(() => {\n        this.inputItems[key].text = "Just move me!";\n      }, 3000);\n    }\n  }\n};\n<\/script>\n\n<style>\n#app {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  font-family: sans-serif;\n  align-items: center;\n}\n\n.wrapper {\n  width: 350px;\n  height: 350px;\n  border: 1px solid #000;\n  border-radius: 10px;\n  position: relative;\n}\n\nh1 {\n  text-align: center;\n}\n\n.div {\n  display: inline-block;\n}\n\ninput {\n  width: 200px;\n  padding: 20px 30px;\n  border-radius: 10px;\n  border: 1px solid #ccc;\n  font-size: 16px;\n  text-align: center;\n}\n</style>\n']},media:void 0})},d,void 0,!1,void 0,n,void 0);new e({el:"#app",render:e=>e(r)})}(Vue);
//# sourceMappingURL=bundle-[hash].js.map